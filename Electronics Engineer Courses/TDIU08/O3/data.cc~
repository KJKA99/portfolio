// aidja644: Arbetat enskilt

#include <iostream>
#include <iomanip>
#include <string>
#include <cctype>
#include <ctype.h>
#include <random>
#include <iterator>
#include <algorithm>
#include <vector>   //Kolla över sen


using namespace std;

struct person_type
{
  string namn{};
  string efternamn{};
  string klubb{};
  vector<double> tider;
  bool operator<(const person_type & other) {
  return tider[0] < other.tider[0];
}
};
//////////////////////////////////////////////////////////////////////////////
//Underprogram: Inmatning av person
void inmatning(vector<person_type> &v)
{
  person_type person{};
  cout << "Mata in deltagare:" << endl;

  while(true)
    {
      cin >> person.namn;
      if(person.namn == "KLAR")
      	{
	  cin.ignore();
	  break;
      	}
      cin >> person.efternamn;
      getline(cin, person.klubb);

      v.push_back(person);
    }
}
//////////////////////////////////////////////////////////////////////////////
//Underprogram: Inmatning av tider
void tiderinput(vector<person_type> &v)
{
  double temp{};

  for(unsigned int i{0}; i < v.size() ; i++)
    {
      	  cout << "Tider " << v[i].namn << ": ";
      while(true)
	{
	  cin >> temp;
	  if(temp == -1.00)
	    {
	      break;
	    }
	  v[i].tider.push_back(temp);
	  sort(v[i].tider.begin(),v[i].tider.end());
	}
    }
  sort(v.begin(),v.end());
}
//////////////////////////////////////////////////////////////////////////////
//Underprogram: Utskrift
void tabell(vector<person_type> &v)
{
  cout << "Efternamn " << "  " << "Förnamn ";
  cout << right << setw(17) << "Klubb: " << "Tider" << endl;
  cout << "==========================================" << endl;
  
  for(unsigned int i{0}; i < v.size(); i++)
    {
      cout << right << setw(9) << v[i].efternamn << setw(10) << v[i].namn;
      cout << setw(16) << v[i].klubb << ":";
      for(double i: v[i].tider)
	{
	  cout << fixed << setprecision(2) << " " << i;
	}
      cout << endl;
    }
}
//////////////////////////////////////////////////////////////////////////////
//Huvudprogram
int main()
{

  person_type person{};
  vector<person_type> v{};
  random_device r;

  inmatning(v);
  tiderinput(v);
  tabell(v);

  return 0;
}
